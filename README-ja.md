# CaptionGen: 自動画像キャプション生成アプリ

## 概要
CaptionGenは、選択したフォルダ内の画像に対してキャプションを自動生成する軽量アプリケーションです。

Hugging Faceの事前学習済みモデルを利用し、シンプルなGUIで画像データを処理し、キャプションをテキストファイルとして保存します。


## 特徴
- フォルダ内の画像を自動的にスキャンして処理します。
- `Salesforce/blip-image-captioning-base`モデルを使用してキャプションを生成します。
- 各キャプションを`.txt`ファイル形式で専用フォルダに保存します。


## 動作の仕組み
1. **画像検出**: 選択したフォルダからサポートされている画像形式（`.jpg`, `.jpeg`, `.png`, `.bmp`, `.gif`）をスキャンします。
2. **キャプション生成**: Hugging Faceの事前学習済みモデルを使用して、各画像を解析し、自然言語による説明を生成します。
3. **結果の保存**: 各キャプションを`captions/`フォルダ内にテキストファイルとして保存します。


## ファイル構成
```
CaptionGen/
├── LICENSE                 # ライセンスファイル
├── README.md               # 英語版のアプリケーション概要と使用方法
├── overview.md             # 英語版の詳細な説明
├── README-ja.md            # 日本語版のアプリケーション概要と使用方法
├── overview-ja.md          # 日本語版の詳細な説明
├── requirements.txt        # 必要なPythonパッケージ
├── main.py                 # アプリの起動スクリプト
├── utils/
│   ├── __init__.py         # パッケージ初期化ファイル
│   ├── caption_generator.py # キャプション生成ロジック
│   └── file_handler.py     # ファイル操作ロジック
├── data/
│   ├── images/             # 入力画像を格納するフォルダ
│   └── captions/           # 生成されたキャプションを保存するフォルダ
└── app/
    ├── __init__.py         # パッケージ初期化ファイル
    └── gui.py              # GUIアプリケーション
```


## インストールと使用方法

### 必要条件
- Python 3.9以上
- GPU推奨（必須ではありません）


### セットアップ
1. リポジトリをクローンします。
   ```bash
   git clone https://github.com/yf591/CaptionGen.git
   cd CaptionGen
   ```

2. 仮想環境を作成してアクティベートします。
   ```bash
   # Windows
   python -m venv .venv
   .venv\Scripts\activate

   # macOS/Linux
   python3 -m venv .venv
   source .venv/bin/activate
   ```

3. 必要なライブラリをインストールします。
   ```bash
   pip install -r requirements.txt
   ```

4. アプリを実行します。
   ```bash
   python main.py
   ```

5. GUIが表示されたら、「フォルダを選択」ボタンをクリックして、キャプションを生成したい画像が含まれているフォルダ（**Zip化されていないもの**）を選択します。
   ※生成枚数次第で時間がかかる可能性あり

6. アプリケーションが選択されたフォルダ内の各画像に対してキャプションを生成し、`data/captions/`フォルダ内にテキストファイルとして保存します。
   ※参考：20枚程度であれば、フォルダ選択後にキャプションが生成が開始されるまでに3～5分程度かかります。


## 詳細説明

`overview-ja.md`にアプリケーションのより詳細な説明が記載されています。


## 免責事項

このアプリケーションの使用によって生じたいかなる損害、損失、不利益などについて、開発者は一切の責任を負いません。自己責任でご使用ください。このアプリケーションは現状のまま提供され、いかなる保証もありません。


## ライセンス

このアプリケーションは、[Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0)に基づいて構築されています。使用しているモデルの特定のライセンス条項に従ってください。


## 開発者

yf591