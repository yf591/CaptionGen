# overview-ja.md

### 仕組みと挙動の概要
このアプリは、指定したフォルダ内の画像に対してキャプション（説明文）を自動生成し、その結果をテキストファイルとして保存します。以下は、アプリの全体的な構造と挙動の流れです。


#### 1. **アプリの主要機能**
- ユーザーがGUIを通じて画像フォルダを選択。
- 選択されたフォルダ内の画像を検出。
- 各画像に対してキャプション生成を行い、`captions/` フォルダに保存。
- 生成されたキャプションは画像ごとにテキストファイル形式で分けられる。


#### 2. **キャプション生成の仕組み**
1. **選択したフォルダから画像を取得**
   - サポートされている画像形式（`.jpg`, `.jpeg`, `.png`, `.bmp`, `.gif`）を検出。
2. **キャプション生成**
   - Hugging Faceが提供する事前学習済みのモデル（`Salesforce/blip-image-captioning-base`）を使用。
   - モデルが画像を解析し、自然言語によるキャプションを生成。
3. **結果の保存**
   - 各画像のキャプションをテキストファイル形式で `captions/` フォルダに保存。


#### 3. **全体構造**
このアプリはモジュール化された構造になっており、以下のような責務を持つ各ファイルで構成されています：

- **`main.py`**
  - アプリのエントリーポイント。GUIを起動。
  
- **`utils/file_handler.py`**
  - フォルダ内の画像ファイルを取得する機能を提供。
  
- **`utils/caption_generator.py`**
  - Hugging Faceのキャプション生成モデルをラップし、キャプション生成機能を提供。

- **`app/gui.py`**
  - GUIインターフェイスの構築とイベントハンドリングを担当。

- **`data/`**
  - 入力画像と出力キャプションの管理用フォルダ。